{
    "version": "3.6",
    "description": "A lightweight and efficient notepad++ alternative.",
    "homepage": "https://github.com/cxasm/notepad--",
    "license": "GPL-3.0-only",
    "architecture": {
        "64bit": {
            "url": "https://github.com/cxasm/notepad--/releases/download/notepad-v3.6/Notepad--v3.6-win10-portable.zip",
            "hash": "7a28fcb21aa5e7d577cdb788b100e50e02762926022e80bcfcb488e4542bc3d1"
        }
    },
    "post_install":[
        "$cc_root = \"$dir\".Replace('\\', '\\\\')",
        "$APPName = 'Notepad--'",
        "$exeName = 'Notepad--.exe'",
        "'install-context.reg', 'uninstall-context.reg' | ForEach-Object {",
        "    $content = Get-Content \"$bucketsdir\\chenwb-scoop-bucket\\scripts\\file_context_menu\\$_\"",
        "    $content = $content.Replace('$cc_root', $cc_root)",
        "    $content = $content.Replace('$APPName', $APPName)",
        "    $content = $content.Replace('$exeName', $exeName)",
        "    if ($global) {",
        "       $content = $content.Replace('HKEY_CURRENT_USER', 'HKEY_LOCAL_MACHINE')",
        "    }",
        "    Set-Content \"$dir\\$_\" $content -Encoding Ascii",
        "}",
        "'register_application.reg', 'unregister_application.reg' | ForEach-Object {",
        "    $content = Get-Content \"$bucketsdir\\chenwb-scoop-bucket\\scripts\\App_register\\$_\"",
        "    $content = $content.Replace('$cc_root', $cc_root)",
        "    $content = $content.Replace('$APPName', $APPName)",
        "    $content = $content.Replace('$exeName', $exeName)",
        "    if ($global) {",
        "       $content = $content.Replace('HKEY_CURRENT_USER', 'HKEY_LOCAL_MACHINE')",
        "    }",
        "    Set-Content \"$dir\\$_\" $content -Encoding Ascii",
        "}",
        "reg import \"$dir\\install-context.reg\" 2>&1 | Out-Null",
        "reg import \"$dir\\register_application.reg\" 2>&1 | Out-Null"
    ],
    "pre_uninstall": [
        "reg import \"$dir\\uninstall-context.reg\" 2>&1 | Out-Null",
        "reg import \"$dir\\unregister_application.reg\" 2>&1 | Out-Null"
    ],
    "bin": "Notepad--.exe",
    "shortcuts": [
        [
            "Notepad--.exe",
            "Notepad--"
        ]
    ],
    "checkver": "github",
    "autoupdate": {
        "url": "https://github.com/cxasm/notepad--/releases/download/notepad-v$version/Notepad--v$version-win10-portable.zip"
    }
}
