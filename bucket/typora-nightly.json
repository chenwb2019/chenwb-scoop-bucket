{
    "version":"nightly",
    "description": "A markdown editor downloaded by mirror",
    "homepage": "https://typoraio.cn",
    "license":{
        "identifier": "Proprietary",
        "url": "https://support.typora.io/License-Agreement/"
    },
    "suggest": {
        "pandoc":"pandoc",
        "see-yue-typora":"see-yue-typora"
    },
    "architecture": {
        "64bit": {
            "url":"https://downloads.typoraio.cn/windows/typora-setup-x64.exe",
            "hash":"sha256:412962eba7c867f32481423f8828030e0b03062a39917743bf54593a7ae81c6a"
        },
        "32bit": {
            "url":"https://downloads.typoraio.cn/windows/typora-setup-ia32.exe",
            "hash": "07968482e9dc52bf5fa57778aaf6dd17a488a84c70d46aae7acb626d5c0bcd3e"
        }
    },
    "innosetup": true,
    "post_install": [
        "$configpath = Join-Path $env:AppData 'Typora'",
        "$personalpath = $persist_dir",
        "if (!(Test-Path $personalpath)) { New-Item -ItemType Directory -Path $personalpath -force | Out-Null }",
        "if (Test-Path $configpath) {",
        "$testlink = (Get-Item $configpath).LinkType",
        "if ($testlink -ne 'Junction') {",
        "Get-ChildItem -Path $configpath | Move-Item -Destination $personalpath -Force",
        "Remove-Item $configpath -force",
        "New-Item -ItemType Junction -Path $configpath -Target $personalpath -Force | Out-Null",
        "}",
        "} else {",
        "New-Item -ItemType Junction -Path $configpath -Target $personalpath -Force | Out-Null",
        "}"

    ],
    "bin": "Typora.exe",
    "shortcuts": [
        [
            "Typora.exe",
            "Typora-nightly"
        ]
    ]
}
