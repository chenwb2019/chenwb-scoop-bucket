{
    "version": "10.0.101",
    "description": "Microsoft .NET Framework 10.0.100 Developer Pack",
    "homepage": "https://dotnet.microsoft.com/zh-cn/",
    "license": "MIT",
    "notes": [
        "Manage dotnet runtimes and SDKs with scoop persisted data directories. And it's better to run 'scoop hold dotnet-scoop' to prevent automatic updates.",
        "Restart to start using dotnet.",
        "If you intend to manage dotnet via the default method, run 'scoop uninstall dotnet-scoop -p', and this action will retain sdks and runtimes data in the default location, then you can choose to delete or keep them and reinstall dotnet following the officially recommended approach.",
        "If you have installed multiple dotnet versions with the same major version number, it's better to manually remove the older ones in persistent directories to eliminate unnecessary storage overhead, as dotnet maintains backward compatibility across builds of the same major version."
    ],
    "architecture": {
        "64bit": {
            "url": "https://builds.dotnet.microsoft.com/dotnet/Sdk/10.0.101/dotnet-sdk-10.0.101-win-x64.zip",
            "hash": "sha512:efcb2bfde6ae691cee94abaabd902562d4463b26c2ae58c3db4291719220843bbc89e32ff16bf95d54efd145423207255464d16616d760a3bf0e6b5ba48214a3"
        }
    },
    "env_add_path": ".",
    "env_set": {
        "DOTNET_ROOT": "$dir",
        "MSBuildSDKsPath": "$dir\\sdk\\$version\\Sdks"
    },
    "pre_install": [
        "if (!(is_Admin)) {",
        "   throw 'Administrator privileges are required to install .NET SDK. Please use \"sudo scoop install dotnet-scoop\" to install this package with elevated permissions.'",
        "}",
        "Write-Host 'Change the default InstallLocation to scoop Directory' | Out-Null",
        "$reg_install_path = \"HKLM:SOFTWARE\\dotnet\\Setup\\InstalledVersions\\x64\"",
        "if (!(Test-Path \"$reg_install_path\\sharedhost\")) {",
        "   New-Item -Path \"$reg_install_path\\sharedhost\" -Type Directory -Force | Out-Null",
        "}",
        "New-ItemProperty -Path \"$reg_install_path\" -Name \"InstallLocation\" -Value $dir -Force | Out-Null",
        "New-ItemProperty -Path \"$reg_install_path\\sharedhost\" -Name \"Version\" -Value $version -Force | Out-Null",
        "New-ItemProperty -Path \"$reg_install_path\\sharedhost\" -Name \"Path\" -Value \"$persist_dir\\shared\" -Force | Out-Null"
    ],
    "post_install": [
        ". \"$bucketsdir\\chenwb-scoop-bucket\\scripts\\Functions.ps1\"",
        "$runtimepath = \"$env:ProgramFiles\\dotnet\\shared\"",
        "Move-Data_dir \"$runtimepath\" \"$persist_dir\\shared\"",
        "$sdkpath = \"$env:ProgramFiles\\dotnet\\sdk\"",
        "Move-Data_dir \"$sdkpath\" \"$persist_dir\\sdk\""
    ],
    "pre_uninstall": [
        "if (!(is_admin)) {",
        "   throw 'Administrator privileges are required to uninstall .NET SDK. Please use \"sudo scoop uninstall dotnet-scoop\" to uninstall this package with elevated permissions.'",
        "}",
        "Remove-ItemProperty -Path \"HKLM:\\SOFTWARE\\dotnet\\Setup\\InstalledVersions\\x64\" -Name \"InstallLocation\" -Force | Out-Null",
        "if ($purge) {",
        "   Remove-Item -Path \"$env:ProgramFiles\\dotnet\\shared\" -Recurse -Force | Out-Null",
        "   . \"$bucketsdir\\chenwb-scoop-bucket\\scripts\\Functions.ps1\"",
        "   Move-Data_dir \"$persist_dir\\shared\" \"$env:ProgramFiles\\dotnet\\shared\"",
        "   Set-ItemProperty -Path \"HKLM:\\SOFTWARE\\dotnet\\Setup\\InstalledVersions\\x64\\sharedhost\" -Name \"Path\" -Value $env:ProgramFiles\\dotnet\\shared -Force | Out-Null",
        "}"
    ],
    "persist": [
        "sdk",
        "shared"
    ],
    "checkver": {
        "url": "https://builds.dotnet.microsoft.com/dotnet/release-metadata/releases-index.json",
        "jsonpath": "$..releases-index[?(@.support-phase == 'active')].latest-sdk",
        "regex": "([\\d.]+)"
    },
    "autoupdate": {
        "architecture": {
            "64bit": {
                "url": "https://builds.dotnet.microsoft.com/dotnet/Sdk/$version/dotnet-sdk-$version-win-x64.zip"
            }
        },
        "hash": {
            "url": "https://builds.dotnet.microsoft.com/dotnet/release-metadata/$majorVersion.$minorVersion/releases.json",
            "regex": "(?s)$basename.*?$sha512"
        }
    }
}
